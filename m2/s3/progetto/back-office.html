<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Add Product</h1>

    <div class="container">
        <form>
            <input type="text" id="name" required class="form-control" placeholder="Nome prodotto">
            <input type="text" id="brand" required class="form-control" placeholder="Modello">
            <input type="number" id="price" required class="form-control" placeholder="0$">
            <input type="text" id="imageUrl" required class="form-control" value="https://picsum.photos/200/300">
            <input type="area-text" id="description" required class="form-control" placeholder="Descrizione">
            <button id="save" class="btn btn-success">Save</button>
        </form>
    </div>

    


    <script>

        const save =  document.querySelector('#save')

        save.addEventListener('click',function(e){
            e.preventDefault()

            let name = document.querySelector('#name').value
            let brand = document.querySelector('#brand').value
            let price = document.querySelector('#price').value
            let imageUrl = document.querySelector('#imageUrl').value
            let description = document.querySelector('#description').value

            let phone = {
                name,
                brand,
                price,
                imageUrl,
                description
            }

            fetch('https://striveschool-api.herokuapp.com/api/product/',{
                method:'POST',
                headers:{
                    Authorization: "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NWVhZDg5NjJkN2IxMTAwMTkwZTZkZGYiLCJpYXQiOjE3MDk4ODk2ODYsImV4cCI6MTcxMTA5OTI4Nn0.Ms-65vg0maL58ibQeKeoCy1NpvSF22TKOEGK5O36rP8",
                    'Content-Type':'application/json'
                },
                body:JSON.stringify(phone)
            })
            .then(res => res.json())
            .then(res => {

            location.href = 'index.html'
            })

        })

    </script>
</body>
</html>